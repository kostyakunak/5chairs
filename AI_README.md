# AI_README: Краткая сводка для ИИ

## Актуальное состояние сервиса "5 Chairs"

- **Вся логика построена на новых сущностях:** заявки (applications), встречи (meetings), временные слоты (time_slots), города (cities), площадки (venues). Legacy-код (events/event_applications) полностью удалён.
- **time_slots теперь всегда привязан к городу** (city_id, ForeignKey на cities.id). Все функции создания, выборки и отображения таймслотов требуют и используют city_id.
- **Подача заявки:** пользователь сначала выбирает город, затем видит только таймслоты этого города.
- **Админ-бот:** при создании таймслота всегда требует выбор города. В списке таймслотов отображается город.
- **Миграции Alembic и структура БД полностью актуализированы** — все старые таблицы и миграции удалены, структура отражает только новые сущности.
- **Документация и схемы** (Detailed_Service_Work.md) всегда содержат актуальные ER-диаграммы, сценарии и архитектуру.
- **Все заявки, встречи, таймслоты, города и площадки создаются и управляются только администратором.** Пользователь может только выбрать город, слот и подать заявку.
- **Вся логика фильтрации заявок и таймслотов по городу реализована через city_id в time_slots.**
- **User Bot и Admin Bot используют только новые модели и связи.**
- **applications** теперь всегда содержит поле `time_slot_id` (ForeignKey на time_slots.id, NOT NULL). Город заявки определяется через связанный таймслот. Все старые заявки были автоматически привязаны к таймслоту Варшавы (id=1) при миграции.

## Краткие подсказки для ИИ
- Не использовать/не предлагать legacy-сущности (events, event_applications).
- Всегда учитывать city_id при работе с таймслотами и заявками.
- Все сценарии user/admin flow смотри в Detailed_Service_Work.md.
- Если возникают ошибки, связанные с отсутствием city_id или неправильной фильтрацией — проверь актуальность моделей и миграций.
- Для новых функций и сценариев всегда опирайся на текущую архитектуру и бизнес-логику, описанную в документации. 